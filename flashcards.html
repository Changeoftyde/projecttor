<!DOCTYPE html>
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<html>
<body>
<div id="firstpart" class="">
<div id="fullscreen">
 <div id="popup">
   <span id="title">
   </span>
   <div id="showanswer"><span id="desc"></span><div id="gatb"></div></div>
   <div id="torabody"></div>
   <div id="torahead"></div>
   <button id="next" onclick="next()">Next</button>
 </div>
  </div>
  <button onclick="check()" id="check">Check</button>
  <button onclick="correct()" id="biencircle"></button>
  <button onclick="addtopile()" id="malcircle"></button>
 <div id="question"></div>
 <textarea maxlength="1000" placeholder="Type the answer here..." id="answer"></textarea>
 <div id="loadbar"><div id="insloadbar"></div></div><span onclick="window.location.href = 'study'.concat(current.concat('.html'))" id="x">X</span>
</div>
<div id="secondpart" class="hidden">
     <button class="hidden" id="finish" onclick="finish()">Done</button>
   <button class="hidden" id="redo" onclick="redo()">Redo</button>
  <div id="torabody2"></div>
  <div id="torahead2"></div>
  <div class="fmq2"><div id="lilgrayguy"></div></div>
  <div id="fmq">
    <div id="whitebit"></div>
    <span id="sq">Struggle Questions</span>
  </div>
  <div id="percentage">
  <div id="middlecircle">
    <span id="textim"></span>
  </div>
  <div id="frontcircle"></div>
  </div>
</div>
</body>
<style>

#malcircle {
  right: 1.5dvh;
  top: 50%;
  transform: translate(50%, -50%);
  position: absolute;
  z-index: 101;
  height: 15dvh;
  width: 15dvh;
  border-radius: 6dvh;
  border: 0;
  background-color: #ff8500;
  box-shadow: 0 0 30dvh 10dvh rgba(255, 133, 0, 0.2);
}
#biencircle {
  left: 1.5dvh;
  top: 50%;
  transform: translate(-50%, -50%);
  position: absolute;
  z-index: 101;
  height: 15dvh;
  width: 15dvh;
  border-radius: 6dvh;
  border: 0;
  background-color: #2dcc70;
  box-shadow: 0 0 30dvh 10dvh rgba(45, 204, 112, 0.2);
}

.bfc {
  width: calc(100% - 10dvh);
  max-width: 90dvh;
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  height: 50dvh;
  border-radius: 6dvh;
  perspective: 1000dvh;
  transition: 2s opacity, 1s left, 1s transform, 1s right;
}
.flashcard {
  width: 100%;
  height: 100%;
  position: relative;
  transform-style: preserve-3d;
  transition: transform 0.6s;
  border-radius: inherit;
}

/* The two faces */
.frontside,
.backside {
  position: absolute;
  width: 100%;
  height: 100%;
  backface-visibility: hidden;
  -webkit-backface-visibility: hidden;
  border-radius: inherit;
  top: 0;
  left: 0;
  display: flex;
  justify-content: center;
  align-items: center;
  font-size: 2.5dvh;
  padding: 2dvh;
  box-sizing: border-box;
}
.frontside {
  background-color: #efefef;
  color: #c12020;
}
.backside {
  background-color: #efefef;
  color: #c12020;
  transform: rotateY(180deg);
}
#finish:hover {
  outline: 1.5dvh solid #c12020;
}
#redo:hover {
  outline: 1.5dvh solid #c12020;
}
#finish {
  width: 12dvh;
  height: 6dvh;
  border-radius: 2dvh;
  border: none;
  outline: 1.5dvh solid #efefef;
  background-color: white;
  color: #c12020;
  left: calc(50% - 15dvh);
  bottom: 54dvh;
  position: absolute;
  z-index: 2;
  font-family: fredokaone;
  font-size: 3.5dvh;
  cursor: pointer;
  transition: 0.6s opacity;
}
#redo {
  width: 12dvh;
  height: 6dvh;
  border-radius: 2dvh;
  border: none;
  outline: 1.5dvh solid #efefef;
  background-color: white;
  color: #c12020;
  left: calc(50% + 3dvh);
  bottom: 54dvh;
  position: absolute;
  z-index: 2;
  font-family: fredokaone;
  font-size: 3.5dvh;
  cursor: pointer;
  transition: 0.6s opacity;
}
#torahead2 {
    z-index: 1001;
    transform: translate(-50%, -50%);
    width: 18.41dvh;
    height: 12.90dvh;
    position: absolute;
    bottom: 5.71dvh; /*+1*/
    left: 50%;
    background-position: 50% 50%;
    background-size: cover;
    background-image: url("toraheadnormal.png");
    transition: 0.8s transform;
    
  }
  #torabody2 {
    bottom: 2.9dvh;
    right: calc(50% - 7.2dvh);
    position: absolute;
    width: 17.56dvh;
    height: 13.42dvh;
    background-position: 50% 50%;
    background-size: cover;
    background-image: url("torabody.png");
    z-index: 1000;
  }
  #lilgrayguy {
    position: absolute;
    top: 12dvh;
    left: 0;
    width: 100%;
    height: 3dvh;
    background-image: linear-gradient(rgba(0,0,0,0), #efefef);
    z-index: 1;
    pointer-events: none;
  }
  .sqq {
    width: calc(100% - 7dvh);
    right: 1dvh;
    top: 4.5dvh;
    background-color: white;
    border-radius: 0.5dvh;
    position: absolute;
    padding: 0.5dvh;
    word-wrap: break-word;
  }
  #sq {
    width: calc(100% - 3dvh);
    text-align: center;
    color: black;
    top: 0.5dvh;
    left: 3.5dvh;
    position: absolute;
    z-index: 0;
    font-size: 2.5dvh;
    white-space: nowrap;
  }
  #whitebit {
    z-index: 1;
    width: 110%;
    right: -5%;
    top: -5%;
    position: absolute;
    background-color: white;
    height: 110%;
    transition: 1.5s;
  }
  #fmq {
    width: calc(100% - 16dvh);
    height: 15dvh;
    top: 22.5dvh;
    background-color: #efefef;
    position: absolute;
    right: 3dvh;
    border-radius: 3dvh;
    overflow-y: scroll;
    overflow-x: hidden;
  }
  .fmq2 {
    width: calc(100% - 16dvh);
    height: 15dvh;
    top: 22.5dvh;
    background-color: #efefef;
    position: absolute;
    right: 3dvh;
    border-radius: 3dvh;
    overflow-y: scroll;
    overflow-x: hidden;
  }
  #textim {
    color: white;
    transition: 2s;
    position: absolute;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%);
    width: 100%;
    text-align: center;
    font-size: 10dvh;
  }
  #middlecircle {
    width: 67.5%;
    height: 67.5%;
    position: absolute;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%);
    background-color: white;
    border-radius: 50%;
    z-index: 1; 
  }
  #percentage {
    z-index: 2;
    width: 45dvh;
    height: 45dvh;
    border-radius: 22.5dvh;
    position: absolute;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%);
    transition: 2s;
  }
  #frontcircle {
    width: 110%;
    height: 110%;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%);
    position: absolute;
    background-color: white;
  }
  #secondpart {
    width: 100%;
    height: 100%;
    position: absolute;
    top: 0;
    left: 0;
  }
  #firstpart {
    width: 100%;
    height: 100%;
    position: absolute;
    overflow-y: hidden;
    top: 0;
    left: 0;
    overflow-x: hidden;
  }
  .hidden {
    opacity: 0;
    pointer-events: none;
  }
  #gatb {
    width: 100%;
    height: 10dvh;
    top: 20dvh;
    position: fixed;
    background-image: linear-gradient(rgba(0, 0, 0, 0), #efefef);
    z-index: 1;
    pointer-events: none;
  }
  #showanswer {
    overflow-y: scroll;
    width: 100%;
    height: 20dvh;
    left: 0;
    top: 10dvh;
    position: absolute;
  }
  #torahead {
    z-index: 2;
    transform: translate(-50%, -50%);
    width: 18.41dvh;
    height: 12.90dvh;
    position: absolute;
    top: -8.31dvh;
    right: -5.2dvh;
    background-position: 50% 50%;
    background-size: cover;
    background-image: url("toraheadnormal.png");
    transition: 0.8s transform;
  }
  #torabody {
    top: -5.5dvh;
    right: 6.03dvh;
    position: absolute;
    width: 17.56dvh;
    height: 13.42dvh;
    background-position: 50% 50%;
    background-size: cover;
    background-image: url("torabody.png");
  }
  .qtext {
    position: absolute;
    left: 0;
    top: 50%;
    width: 100%;
    text-align: center;
    font-size: 3.5dvh;
    transform: translateY(-50%);
  }
  .atext {
    position: absolute;
    left: 0;
    top: 50%;
    width: 100%;
    text-align: center;
    font-size: 2.5dvh;
    transform: translateY(-50%);
  }
  button {
  font-family: fredokaone;
  }
  @font-face {
  font-family: fredokaone;
  src: url("FredokaOne-Regular.otf");
  }
  textarea {
    font-family: fredokaone;
  }
  body {
    font-family: fredokaone;
    overflow: hidden;
  }
  #question {
    width: calc(100% - 8dvh);
    width: 0;
    left: -1000dvh;
    top: -1000dvh;
    height: 0;
    opacity: 0;
    pointer-events: none;
    height: 20dvh;
    position: absolute;
    overflow-y: scroll;
    color: #c12020;
    border-radius: 3dvh;
    word-wrap: break-word;
    transition: 0.6s opacity;
  }
  #answer {
    width: 0;
    opacity: 0;
    pointer-events: none;
    left: 50%;
    height: 0;
    position: absolute;
    top: -1000dvh;
    border-radius: 3dvh;
    border: none;
    transform: translateX(-50%);
    background-color: rgba(200, 200, 200, 0.3);
    font-size: 2.5dvh;
    padding: 2dvh 2dvh 4dvh 2dvh;
    resize: none;
    transition: 0.6s opacity;
  }
  #loadbar {
    width: calc(100dvw - 20dvh);
    position: fixed;
    top: 3.5dvh;
    left: 3.5dvh;
    height: 7dvh;
    border-radius: 5dvh;
    outline: 2dvh solid rgba(200, 200, 200, 0.3);
    overflow: hidden;
  }
  #x {
    color: #c12020;
    font-size: 10dvh;
    text-align: center;
    width: 14.5dvh;
    height: 12.5dvh;
    position: absolute;
    right: 0;
    top: 1dvh;
  }
  #insloadbar {
    height: 100%;
    transition: 0.6s;
    left: 0;
    top: 0;
    border-radius: 5dvh;
    position: absolute;
    background-color: #c12020;
    width: 0;
  }
  #popup {
    z-index: 10;
    width: calc(100% - 4.75dvh);
    height: 100dvh;
    background-color: #efefef;
    position: absolute;
    left: 50%;
    transform: translate(-50%, 0%);
    top: 90dvh;
    border-radius: 4.5dvh;
    transition: 0.6s;
  }
  #title {
    left: 2dvh;
    top: 2dvh;
    width: calc(100% - 4dvh);
    position: absolute;
    font-size: 6dvh;
    transition: 0.6s color;
    color: #efefef;
  }
  #desc {
    left: 2dvh;
    width: calc(100% - 4dvh);
    position: absolute;
    font-size: 6dvh;
    transition: 2s color;
    color: #000000;
    font-size: 3dvh;
    word-wrap: break-word;
  }
  #question::-webkit-scrollbar {
  display: none;
}
#check {
  width: 0;
  height: 0;
  border-radius: 2dvh;
  border: none;
  opacity: 0;
  pointer-events: none;
  outline: 1.5dvh solid #efefef;
  background-color: white;
  color: #c12020;
  right: 1000dvh;
  bottom: 1000dvh;
  position: absolute;
  z-index: 2;
  font-family: fredokaone;
  font-size: 3.5dvh;
  cursor: pointer;
  transition: 0.6s opacity;
}
  body {
    overflow-y: hidden;
  }
#next {
  width: 12dvh;
  height: 6dvh;
  border-radius: 2dvh;
  border: none;
  outline: 1.5dvh solid #efefef;
  background-color: white;
  color: #c12020;
  right: 2.625dvh;
  top: 31.5dvh;
  position: absolute;
  z-index: 2;
  font-family: fredokaone;
  font-size: 3.5dvh;
  cursor: pointer;
}
#check:hover {
  outline: 1.5dvh solid #c12020;
}
#next:hover {
  outline: 1.5dvh solid #c12020;
}
/* Hide scrollbar for IE, Edge and Firefox */
#question {
  -ms-overflow-style: none;  /* IE and Edge */
  scrollbar-width: none;  /* Firefox */
}
  .sqqdm {
    width: calc(100% - 7dvh);
    right: 1dvh;
    top: 4.5dvh;
    background-color: black;
    border-radius: 0.5dvh;
    position: absolute;
    padding: 0.5dvh;
    color: white;
    word-wrap: break-word;
  }
</style>
<script>
if (localStorage.getItem("darkmode") == "1") {
  document.getElementById("title").transition = "none";
  window.innerHeight;
  document.getElementById("title").style.color = "#3a3a3a";
  window.innerHeight;
  document.getElementById("title").style.transition = "0.3s color";
  document.body.style.backgroundColor = "black";
  document.getElementById("answer").style.color = "white";
  document.getElementById("check").style.outline = "1.5dvh solid #3a3a3a";
  document.getElementById("check").style.backgroundColor = "black";
  document.getElementById("redo").style.outline = "1.5dvh solid #3a3a3a";
  document.getElementById("redo").style.backgroundColor = "black";
  document.getElementById("finish").style.outline = "1.5dvh solid #3a3a3a";
  document.getElementById("finish").style.backgroundColor = "black";
  document.getElementById("next").style.outline = "1.5dvh solid #3a3a3a";
  document.getElementById("next").style.backgroundColor = "black";
  document.getElementById("popup").style.backgroundColor = "#3a3a3a";
  document.getElementById("question").style.color = "white";
  document.getElementById("gatb").style.backgroundImage = "linear-gradient(rgba(0,0,0,0), #3a3a3a)";
  document.getElementById("desc").style.color = "white";
  document.getElementById("whitebit").style.backgroundColor = "black";
  document.getElementById("fmq").style.backgroundColor = "#3a3a3a";
  document.getElementById("lilgrayguy").style.backgroundImage = "linear-gradient(rgba(0,0,0,0), #3a3a3a)";
  document.getElementById("middlecircle").style.backgroundColor = "black";
  document.getElementById("frontcircle").style.backgroundColor = "black";
  document.getElementById("sq").style.color = "white";
  document.getElementById("textim").style.color = "black";
}

if (sessionStorage.getItem("setToUse")) {
current = sessionStorage.getItem("setToUse");
sessionStorage.removeItem("setToUse");
} else {
window.location.href = "studyurlerror.html";
}
currentZI = 100;
for (i=1; i<=parseInt(localStorage.getItem(current.concat("qat"))); i++) {
  currentZI--;
  createflashcard(i.toString());
}
congratsmsg = ["Great Job!", "Perfect!", "Nice Work!", "Good Work!", "Good Job!"];
nopemsg = ["Oops", "Not quite", ":(", "Not exactly", "Erm, actually..."];
allnumbers = [];
for (i = 1; i <= parseInt(localStorage.getItem(current.concat("qat"))); i++) {
  allnumbers.push(i.toString());
}
clbl = 0;
function createflashcard(ntu) {
  newbfc = document.createElement("div");
  newbfc.style.zIndex = currentZI;
  newbfc.style.transform = "translate(-50%, -50%) rotate(".concat((Math.floor(Math.random() * 5) - 2.5).toString(), "deg)");
  newbfc.classList.add("bfc");
  newFC = document.createElement("div");
  newFC.classList.add("flashcard");
  newSpan = document.createElement("span");
  newSpan.classList.add("qtext");
  nls = document.createElement("span");
  nls.classList.add("atext");
  nls.innerHTML = localStorage.getItem(current.concat("a", ntu));
  NewFp = document.createElement("div");
  NewFp.classList.add("frontside");
  newBp = document.createElement("div");
  newBp.classList.add("backside");
  newBp.appendChild(nls);
  newFC.appendChild(NewFp);
  newFC.appendChild(newBp);
  newFC.setAttribute("onclick", "flip(".concat((99 - currentZI).toString(), ")"));
  NewFp.appendChild(newSpan);
  newSpan.innerHTML = localStorage.getItem(current.concat("q", ntu));
  newbfc.appendChild(newFC);
  if (localStorage.getItem("darkmode") == "1") {
  NewFp.style.backgroundColor = "#3a3a3a";
  newSpan.style.color = "white";
  nls.style.color = "white";
  newBp.style.backgroundColor = "#3a3a3a";
  }
  document.getElementById("firstpart").appendChild(newbfc);
}
function flip(numtouse) {
  if (document.getElementsByClassName("flashcard")[numtouse].style.transform != "rotateY(180deg)") {
  document.getElementsByClassName("flashcard")[numtouse].style.transform = "rotateY(180deg)";
  } else {
  document.getElementsByClassName("flashcard")[numtouse].style.transform = "rotateY(0deg)";
  }
}
function finish() {
  window.location.href = "study".concat(current, ".html");
}
function redo() {
  sessionStorage.setItem("stu", current);
  sessionStorage.setItem("wpr", "flashcards");
  window.location.href = "justamoment.html";
}
// ===== Cubic Bezier Implementation =====
function cubicBezier(x1, y1, x2, y2) {
  function A(a1, a2) { return 1 - 3*a2 + 3*a1 }
  function B(a1, a2) { return 3*a2 - 6*a1 }
  function C(a1)     { return 3*a1 }

  function bezier(t, a1, a2) {
    return ((A(a1,a2)*t + B(a1,a2))*t + C(a1))*t
  }
  function slope(t, a1, a2) {
    return 3*A(a1,a2)*t*t + 2*B(a1,a2)*t + C(a1)
  }

  function getT(x) {
    let t = x
    for (let i=0; i<5; i++) {
      let s = slope(t, x1, x2)
      if (s === 0) return t
      let xCalc = bezier(t, x1, x2) - x
      t -= xCalc / s
    }
    return t
  }

  return function(x) {
    return bezier(getT(x), y1, y2)
  }
}

// ===== Animation Loop =====
function animate(target, duration, easing, callback) {
  const start = performance.now()

  function step(now) {
    let progress = Math.min((now - start) / duration, 1)
    let eased = easing(progress)
    let val = eased * target
    callback(val)
    if (progress < 1) requestAnimationFrame(step)
  }
  requestAnimationFrame(step)
}

// ===== Example easing: CSS "ease-in-out" =====
const easeInOut = cubicBezier(0.42, 0, 0.58, 1)
const frontcircle = document.getElementById("frontcircle")


// ===== Your Results Function =====
function showresults() {
  howdidido = Math.floor(360 * (allcorrect / allnumbers.length)).toString();
  ofo = allcorrect / allnumbers.length;
  if (ofo < 0.4) {
    cfc = "#ff8500";
    posescore("sad");
  } else if (ofo < 0.7) {
    cfc = "#ffe017";
    posescore("confused");
  } else if (ofo < 0.9) {
    cfc = "#a8c96e";
    posescore("happy");
  } else {
    cfc = "#2dcc70";
    posescore("amazed");
  } 
  if (ofo == 1) {
    createsq("e");
  } else {
    whichqs = [];
    prevnumfound = 0;
    for (a = 0; a < parseInt(localStorage.getItem(current.concat("qat"))); a++) {
      numfound = 0;
      for (b = 0; b < allnumbers.length; b++) {
        if (allnumbers[b] == (a + 1).toString()) {
          numfound++;
        }
      }
      if (numfound > prevnumfound) {
        whichqs = [];
        whichqs.push((a + 1).toString());
        prevnumfound = numfound;
      } else if (numfound == prevnumfound) {
        whichqs.push((a + 1).toString());
      } else {}
    }
    for (z = 0; z < whichqs.length; z++) {
      createsq(whichqs[z]);
    }
  }
  if (howdidido == 360) {
  document.getElementById("percentage").style.backgroundColor = "#2dcc70";
  } else if (localStorage.getItem("darkmode") != "1") {
  document.getElementById("percentage").style.backgroundImage = "conic-gradient(".concat(cfc, " 0deg, ", cfc, " ", howdidido, "deg, #efefef ", howdidido, "deg, #efefef 360deg)");
  } else {
  document.getElementById("percentage").style.backgroundImage = "conic-gradient(".concat(cfc, " 0deg, ", cfc, " ", howdidido, "deg, #3a3a3a ", howdidido, "deg, #3a3a3a 360deg)");
  }
  document.getElementById("textim").innerHTML = Math.floor(ofo * 100) + "%";
  document.getElementById("firstpart").classList.add("hidden")
  document.getElementById("secondpart").classList.remove("hidden")
  setTimeout(function() {
    frontcircle.classList.add("hidden");
  }, 3000);
  setTimeout(function() {
      document.getElementById("textim").style.color = cfc;
  animate(360, 2000, easeInOut, (val) => {
    // Build a valid conic-gradient
    frontcircle.style.backgroundColor = "rgba(0,0,0,0)";
    if (localStorage.getItem("darkmode") == "1") {
    frontcircle.style.backgroundImage = 
      `conic-gradient(from 0deg, rgba(0,0,0,0) 0deg ${val}deg, black ${val}deg 360deg)`
    } else {
    frontcircle.style.backgroundImage = 
      `conic-gradient(from 0deg, rgba(0,0,0,0) 0deg ${val}deg, white ${val}deg 360deg)`
    }
  })}, 1000);
  setTimeout(function() {
    document.getElementById("percentage").style.top = "30dvh";
    document.getElementById("percentage").style.left = "10.5dvh";
    document.getElementById("percentage").style.width = "15dvh";
    document.getElementById("percentage").style.height = "15dvh";
    document.getElementById("textim").style.fontSize = "3.33dvh";
  }, 4000)
  setTimeout(function() {
    document.getElementById("whitebit").style.width = 0;
    document.getElementById("finish").classList.remove("hidden");
    document.getElementById("redo").classList.remove("hidden");
  }, 6000)
}

allcorrect = 0;
function createsq(type) {
  if (type == "e") {
    newSQ = document.createElement("div");
    newSQ.innerHTML = "Nice Work! No struggle questions to show.";
    if (localStorage.getItem("darkmode") == "1") {
    newSQ.classList.add("sqqdm");
    } else {
    newSQ.classList.add("sqq");
    }
    document.getElementById("fmq").appendChild(newSQ);
  } else {
    newSQ = document.createElement("div");
    newSQ.innerHTML = "Q: " + localStorage.getItem(current.concat("q", type)) + "<br><span style='font-weight: bold'>A: " + localStorage.getItem(current.concat("a", type)) + "</span>";
    if (localStorage.getItem("darkmode") == "1") {
    newSQ.classList.add("sqqdm");
    } else {
    newSQ.classList.add("sqq");
    }
    document.getElementById("fmq").appendChild(newSQ);
    resizeSQs();
  }
}

window.addEventListener("resize", resizeSQs);
function resizeSQs() {
  totaltop = 0.045 * window.innerHeight;
  for (i = 0; i < document.getElementsByClassName("sqq").length; i++) {
    document.getElementsByClassName("sqq")[i].style.top = totaltop + "px";
    totaltop += document.getElementsByClassName("sqq")[i].offsetHeight + 0.01 * window.innerHeight;
  }
}
currentq = -1;
function correct() {
  currentq++;
  allcorrect++;
  pose("happy");
  document.getElementsByClassName("bfc")[currentq].style.left = -110 + "dvh";
  document.getElementsByClassName("bfc")[currentq].style.transform = "translate(-50%,-50%) rotate(-30deg)"; 
  document.getElementsByClassName("bfc")[currentq].classList.add("hidden");
  document.getElementById("insloadbar").style.backgroundColor = "#2dcc70";
  if ((currentq+1) == allnumbers.length) {
  clbl = 100;
  }
  if (clbl != 100) {
  clbl += (100 - clbl) / (allnumbers.length - currentq);
  document.getElementById("insloadbar").style.width = clbl + "%";
  } else {
  document.getElementById("insloadbar").style.width = clbl + "%";
  setTimeout(showresults, 1500);
  }
}
function addtopile() {
  currentq++;
  pose("confused");
  document.getElementsByClassName("bfc")[currentq].style.left = "calc(110dvh + 110dvw)";
  document.getElementsByClassName("bfc")[currentq].style.transform = "translate(-50%,-50%) rotate(30deg)"; 
  document.getElementsByClassName("bfc")[currentq].classList.add("hidden");
  document.getElementById("insloadbar").style.backgroundColor = "#c12020";
  allnumbers.push(allnumbers[currentq]);
  currentZI--;
  createflashcard(allnumbers[currentq]);
  if ((currentq+1) == allnumbers.length) {
  clbl = 100;
  }
  if (clbl != 100) {
  clbl += (100 - clbl) / (allnumbers.length - currentq);
  document.getElementById("insloadbar").style.width = clbl + "%";
  } else {
  document.getElementById("insloadbar").style.width = clbl + "%";
  setTimeout(showresults, 1000);
  }
  
}
function pose(exp) {
  if (exp == "confused") {
    document.getElementById("torahead").style.backgroundImage = "url('toraheadconfused.png')";
    document.getElementById("torahead").style.transform = "translate(-50%, -50%) rotate(30deg)";
  } else if (exp == "happy") {
    document.getElementById("torahead").style.backgroundImage = "url('toraheadhappy.png')";
    document.getElementById("torahead").style.transform = "translate(-50%, -50%) rotate(30deg)";
  } else {
    document.getElementById("torahead").style.backgroundImage = "url('toraheadnormal.png')";
    document.getElementById("torahead").style.transform = "translate(-50%, -50%) rotate(0deg)";
  }
}
function posescore(exp) {
  setTimeout(function() {
  if (exp == "confused") {
    document.getElementById("torahead2").style.backgroundImage = "url('toraheadconfused.png')";
    document.getElementById("torahead2").style.transform = "translate(-50%, -50%) rotate(30deg)";
  } else if (exp == "happy") {
    document.getElementById("torahead2").style.backgroundImage = "url('toraheadhappy.png')";
    document.getElementById("torahead2").style.transform = "translate(-50%, -50%) rotate(30deg)";
  } else if (exp == "amazed") {
    document.getElementById("torahead2").style.backgroundImage = "url('toraheadamazed.png')";
    document.getElementById("torahead2").style.transform = "translate(-50%, -50%) rotate(30deg)";
  } else {
    document.getElementById("torahead2").style.backgroundImage = "url('toraheadsad.png')";
    document.getElementById("torahead2").style.transform = "translate(-50%, -50%) rotate(30deg)";
    setTimeout(function() {
      document.getElementById("torahead2").style.transition = "1.2s transform";
      window.innerHeight;
      document.getElementById("torahead2").style.transform = "translate(-50%, -50%) rotate(-30deg)";
    }, 800);
    setTimeout(function() {
      document.getElementById("torahead2").style.transition = "0.8s transform";
      window.innerHeight;
      document.getElementById("torahead2").style.transform = "translate(-50%, -50%) rotate(0deg)";
    }, 2200)
  }
  }, 1500);
}
function next() {
  if (currentq != allnumbers.length) {
  document.getElementById("insloadbar").style.backgroundColor = "#c12020";
  pose("normal");
  document.getElementById("popup").style.top = "90dvh";
    document.getElementById("popup").style.boxShadow = "none";
    if (localStorage.getItem("darkmode") == "1") {
    document.getElementById("title").style.color = "#3a3a3a";
    } else {
    document.getElementById("title").style.color = "#efefef";
    }
    document.getElementById("desc").innerHTML = "";
    document.getElementById("question").style.opacity = 0;
    document.getElementById("answer").style.opacity = 0;
    document.getElementById("check").style.opacity = 0;
    currentq++;
    setTimeout(function() {
    document.getElementById("answer").style.pointerEvents = "all";
    document.getElementById("question").style.opacity = 1;
    document.getElementById("answer").style.opacity = 1;
    document.getElementById("check").style.opacity = 1;
    document.getElementById("qtext").innerHTML = localStorage.getItem(current.concat("q", allnumbers[currentq - 1]));
    document.getElementById("answer").value = "";
    }, 700)
    setTimeout(function() {
    document.getElementById("check").setAttribute("onclick", "check()");
    }, 1300);
  } else { showresults(); }
}
</script>
</html>
